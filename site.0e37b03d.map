{"version":3,"sources":["scripts/site.js"],"names":["resetPageView","suite","textViews","view","style","display","resetNavButtons","navButtons","classList","remove","resetResponsiveNav","navIsCollapsed","viewportWidth","toggleExplorer","hidden","document","getElementById","hiddenResponsiveState","didRunCompatibilityModeForSession","didDoInitialNavbarClose","page","displayFromElement","element","dataset","pageTarget","add","textViewTitle","innerText","init","navButton","addEventListener","navCollapseButton","window","reflow","shouldUseCompatibilityMode","console","debug","setTimeout","collapsed","textView","Array","from","getElementsByName","children","innerWidth","test","navigator","userAgent","MimicoShell"],"mappings":"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","file":"site.0e37b03d.map","sourceRoot":"..","sourcesContent":["(() => {\n    const resetPageView = () => {\n        for (let view of suite.textViews) {\n            view.style.display = \"none\";\n        }\n    }\n    const resetNavButtons = () => {\n        for (let view of suite.navButtons) {\n            view.classList.remove(\"secondary-active\");\n        }\n    }\n    const resetResponsiveNav = () => {\n        suite.navIsCollapsed = suite.viewportWidth < 750;\n    }\n    const toggleExplorer = (hidden) => document.getElementById(\"explorer\").style.display = hidden ? \"none\" : \"grid\";\n    let hiddenResponsiveState = false;\n    let didRunCompatibilityModeForSession = false;\n    let didDoInitialNavbarClose = false;\n    const suite = {\n        /**\n         * Switch to a given page\n         * @param {string} page page id\n         */\n        display(page) {\n            resetPageView();\n            document.getElementById(page).style.display = \"grid\";\n        },\n        /**\n         * Display a page using a navbar element\n         * @param {Element} element \n         */\n        displayFromElement(element) {\n            this.display(element.dataset.pageTarget);\n            resetNavButtons();\n            element.classList.add(\"secondary-active\");\n            this.textViewTitle.innerText = element.innerText;\n        },\n        init() {\n            resetPageView();\n            resetNavButtons();\n            this.displayFromElement(this.navButtons[0]);\n            for (let navButton of this.navButtons) {\n                navButton.addEventListener(\"click\", event => this.displayFromElement(navButton));\n            }\n            this.navCollapseButton.addEventListener(\"click\", () => {\n                this.navIsCollapsed = !this.navIsCollapsed;\n                hiddenResponsiveState = this.navIsCollapsed;\n            });\n            window.addEventListener(\"resize\", () => this.reflow());\n            this.reflow();\n        },\n        reflow() {\n            if (this.viewportWidth >= 750) {\n                if (this.navIsCollapsed) {\n                    this.navIsCollapsed = false;\n                }\n                didRunCompatibilityModeForSession = false;\n                didDoInitialNavbarClose = false;\n            }\n            if (!this.navIsCollapsed && this.viewportWidth < 750) {\n                if (!didDoInitialNavbarClose) {\n                    this.navIsCollapsed = true;\n                    didDoInitialNavbarClose = true;\n                }\n                if (hiddenResponsiveState) {\n                    this.navIsCollapsed = true;\n                }\n                if (this.shouldUseCompatibilityMode && !didRunCompatibilityModeForSession) {\n                    console.debug(\"Running compatibility reflow\");\n                    this.navIsCollapsed = !this.navIsCollapsed;\n                    setTimeout(() => this.navIsCollapsed = !this.navIsCollapsed, 0);\n                    didRunCompatibilityModeForSession = true;\n                }\n            }\n        },\n        get navIsCollapsed() {\n            return document.getElementById(\"explorer\").style.display === \"none\";\n        },\n        set navIsCollapsed(collapsed) {\n            toggleExplorer(collapsed);\n            this.textView.classList[collapsed ? \"add\" : \"remove\"](\"text-view-max\");\n        },\n        get textViews() {\n            return Array.from(document.getElementsByName(\"text-view\"));\n        },\n        get navButtons() {\n            return Array.from(document.getElementById(\"explorer-items\").children);\n        },\n        get textViewTitle() {\n            return document.getElementById(\"tvt-wrap\");\n        },\n        get textView() {\n            return document.getElementById(\"text-view\");\n        },\n        get viewportWidth() {\n            return window.innerWidth;\n        },\n        get navCollapseButton() {\n            return document.getElementById(\"nav-burger\");\n        },\n        get shouldUseCompatibilityMode() {\n            return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        }\n    };\n    window.MimicoShell = suite;\n    suite.init();\n})();"]}